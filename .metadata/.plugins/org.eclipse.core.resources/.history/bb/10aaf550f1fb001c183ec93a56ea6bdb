package copyrandom;

import java.util.Arrays;
import java.util.Scanner;

public class ArrayCopyRandomExample {

	public static void main(String[] args) {
		/** 정수형 배열 **/
		int[] a1 = new int[5]; 			//[0, 0, 0, 0, 0]기본값으로 채워짐
		System.out.println(Arrays.toString(a1));
		
		//모두 초기값 2로 변경
		System.out.println("<모두 초기값 2로 변경-1 : for문 사용안함>");
		a1[0] = 2; 
		a1[1] = 2; 
		a1[2] = 2; 
		a1[3] = 2; 
		a1[4] = 2; 
		System.out.println(Arrays.toString(a1));
		
		System.out.println("<모두 초기값 5로 변경-2 : for문 사용>");
		int i;
		for(i = 0; i < a1.length; i++) {
			a1[i] = 5;
		}
		System.out.println(Arrays.toString(a1));
		
		System.out.println("<모두 초기값 7로 변경-3 : Arrays 클래스 사용>");
		Arrays.fill(a1, 7); 	//a1이 참조하는 배열값을 모두 7(같은값)로 채움
		System.out.println(Arrays.toString(a1));
		
		//1~10사이의 정수값을 랜덤으로 채움
		System.out.println("<1~10사이의 정수값을 랜덤으로 채움 : Math 클래스 사용>");
		for(i = 0; i < a1.length; i++) {
			a1[i] = (int)(Math.random() * 10) + 1;
		}
		System.out.println(Arrays.toString(a1));
		
		/*
		    0.0    <= Math.random()    < 1.0     실수값   (예:0.000123, 0.1 등)
			0.0*10 <= Math.random()*10 < 1.0*10
			0.0    <= Math.random()*10 < 10.0   실수값   (예:7.23456, 9.9999)
			(int)0.0    <= (int)(Math.random()*10) < (int)10.0 
			0    <= (int)(Math.random()*10) < 10     (예:0, 1, 2...9)
			0+1  <= (int)(Math.random()*10)+1 < 10+1 (예:1, 2, 3...10)
					        
			★ 공식 : (int)(Math.random()*몇개)+시작정수
									단, 몇개=끝정수-시작정수+1
		 */
		
		System.out.println("<11~29사이의 정수값을 랜덤으로 채움 : Math 클래스 사용>");
		for(i = 0; i < a1.length; i++) {
			a1[i] = (int)(Math.random() * (29-11+1)) + 11;
		}
		System.out.println(Arrays.toString(a1));
		
		System.out.println("** 문자형 배열 **");
		char[] ch = new char[3]; 	//['\0','\0','\0'] 널문자로 채워짐
		System.out.println(Arrays.toString(ch));
		
		System.out.println("<모두 초기값 'A'로 변경 : Arrays 클래스 사용>");
		Arrays.fill(ch, 'A');
		System.out.println(Arrays.toString(ch));
		
		System.out.println("<기존 초기값 'A'을 연산하여 'a' 변경 : for문 사용>");
		for(i = 0; i < ch.length; i++) {
			//ch[i] = (char) (ch[i] + 32); //char만 = (char)더한 결과int
			ch[i] += 32;
		}
		System.out.println(Arrays.toString(ch));
		
		/*****************************************************
		 * 배열 복사 방법
		 * 배우는 이유? 배열은 크기가 최초에 한번 정해지면 크기 변경 불가
		 *****************************************************/
		char[] arr = {'J','A','V','A'}; //arr.length == 4
		System.out.println(" 원본 배열 > " + Arrays.toString(arr));
		
		System.out.print(" 배열 복사 방법-1 > ");
		//기존배열보다 2가 큰 배열 생성 ['\0','\0','\0','\0','\0','\0'] 널문자로 채워짐
		char[] arr1 = new char[arr.length+2]; 
		/*
		 arr1[0] = arr[0];
		 arr1[1] = arr[1];
		 arr1[2] = arr[2];
		 arr1[3] = arr[3];
		 */
		for(i = 0; i < arr.length; i++) {
			arr1[i] = arr[i]; 
		}
		System.out.println(Arrays.toString(arr1)); //[J, A, V, A, '\0', '\0']
		/*
		arr1[4] = '~';
		arr1[5] = '!';
		
		System.out.println(Arrays.toString(arr1)); //[J, A, V, A, ~, !]
		*/
		System.out.print(" 배열 복사 방법-2 > ");
		char[] arr2 = new char[arr.length+2]; //[널문자('\0')로 채워짐]
		
		//void arraycopy(원본, 원본의 시작index, 도착지, 도착지의 시작index, 복사할 개수);
		System.arraycopy(arr, 0, arr2, 0, arr.length); //도착지의 시작index : 0
		System.out.println(Arrays.toString(arr2)); // [J, A, V, A,  ,  ]
		
		char[] arr2_2 = new char[arr.length+2];
		System.arraycopy(arr, 0, arr2_2, 2, arr.length);//도착지의 시작index : 2
		System.out.println(Arrays.toString(arr2_2));

		char[] arr2_3 = new char[arr.length+2];
		System.arraycopy(arr, 1, arr2_3, 0, arr.length-2);//원본의 시작index : 1
		System.out.println(Arrays.toString(arr2_3)); //[A, V,  ,  ,  ,]
		
		System.out.print(" 배열 복사 방법-3 > ");
		char[] arr3 = null; //참조하는 배열객체 없음
		
		//char[] copyOf(원본, 새 배열객체의 길이)
		arr3 = Arrays.copyOf(arr, arr.length+2);
		System.out.println(Arrays.toString(arr3));

		System.out.print(" 배열 복사 방법-4(원하는 부분만 복사하여 배열객체 생성=부분배열생성) > ");
		char[] arr4 = null; //참조하는 배열객체 없음
		
		//T : 클래스 타입이 결정되지 않았음. 언제 결정되는가? 객체가 생성될 때 타입이 결정됨
		//T[] Arrays.copyOfRange(T[] 원본, 복사할 시작index, 복사할 끝index+1)
		
		arr4 = Arrays.copyOfRange(arr, 1, 2+1); //[A, V]
		System.out.println(Arrays.toString(arr4));
		
		/**
		 * 7-4 [과제-1] char[] arr = {'J', 'A', 'V' , 'A'};
		 * 
		 * 1. 키보드로 증가할 배열크기(3)를 입력받아 새 배열객체 생성함(기본값으로 채워짐)
		 * ['\0','\0','\0','\0','\0','\0','\0']
		 *
		 * 2. arr이 참조하는 배열의 항목값을 복사하여 새 배열에 대입
		 * ['J', 'A', 'V', 'A','\0','\0','\0']
		 * 
		 * 3. 기본값으로 채워진 곳은 사용자가 입력한 값으로 채움(=>반복문 사용)
		 * ['J', 'A', 'V', 'A','~','!','*']
		 */
		System.out.println("--- 7-4 [과제-1] ---");
		int arrayplus;
		char[] arrCopy = null;
		String inputText = null;
		
		
		Scanner sc = new Scanner(System.in);
		
		while(arrCopy == null) {		// 배열객체가 할당되지 않은 경우(입력값이 잘못된 경우) 반복
			System.out.println("현재 원본 배열크기="+ arr.length);
			
			System.out.print("증가시킬 배열 크기(1이상) > ");
			arrayplus = sc.nextInt();
			
			if(arrayplus < 1) { // 증가할 배열크기가 1미만인 경우
				System.out.println("증가할 배열 크기를 최소 1이상으로 입력하세요.");
				continue;	//잘못된 값이 온 경우 위로 보냄
			}
			
			arrCopy = new char[arr.length+arrayplus]; 	//입력받은 증가할 배열크기만큼 배열 객체 생성
			System.arraycopy(arr, 0, arrCopy, 0, arr.length);	//배열 복사
			
			System.out.println("요청한 크기만큼 증가한 배열을 생성하여 복사했습니다.");
			System.out.println(Arrays.toString(arrCopy) + "\n");
		}
		
		while(inputText == null) {   	//정상적인 문자를 받지 못한 경우 반복
			System.out.print("복사된 배열의 빈 공간을 채울 문자를 입력 > ");
			inputText = sc.next();
			
			if(arrCopy.length - arr.length < inputText.length()) {		//배열의 빈 공간 보다 크다면
				
				System.out.println("채우려는 문자가 배열의 빈 공간 크기 " + (arrCopy.length - arr.length) +"보다 많습니다.");
				inputText = null;	// 재입력 받기 전 초기화
				continue;
				
			} else if(arrCopy.length - arr.length > inputText.length()) {
				
				System.out.println("채우려는 문자가 배열의 빈 공간 크기 " + (arrCopy.length - arr.length) + "보다 적습니다.");
				inputText = null;	// 재입력 받기 전 초기화
				continue;
				
			}
		}
		
		for(i = 0; i < inputText.length(); i++) {
			arrCopy[arr.length + i] = inputText.charAt(i);  //받은 문자열을 char로 변환하여 빈 공간에 대입
		}
		
		System.out.println("빈 공간 채운 배열 결과=" + Arrays.toString(arrCopy));
	}
	
}
